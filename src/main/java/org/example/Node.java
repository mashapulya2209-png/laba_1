package main.java.org.example;

/**
 * Элемент цепочки для построения последовательной структуры данных.
 * Представляет отдельное звено в цепочке связанных элементов.
 *
 * <p>Каждое звено содержит:
 * <ul>
 *   <li>Значение (value) - хранимая информация</li>
 *   <li>Связь (link) - указатель на последующее звено в цепочке</li>
 * </ul>
 * </p>
 *
 * <p>Звенья служат основными компонентами последовательной структуры
 * и соединяются между собой через связи, формируя непрерывную цепь элементов.</p>
 *
 * @param <T> тип значения, сохраняемого в этом звене
 * @see LinkedListContainer
 */
class ChainElement<T> {
    /**
     * Значение, сохраняемое в этом звене.
     * Может быть объектом любого типа, определенного при создании звена.
     */
    T value;
    /**
     * Связь с последующим звеном в цепочке.
     * Если это звено является конечным в цепочке, link = null.
     */
    ChainElement<T> link;

    /**
     * Создает новое звено с указанным значением.
     * Связь с последующим звеном устанавливается в null.
     *
     * <p>Применяется при добавлении новых элементов в завершение цепочки
     * или при формировании начального звена пустой последовательности.</p>
     *
     * @param value значение для сохранения в этом звене
     * @throws IllegalArgumentException если переданное значение равно null
     */
    ChainElement(T value) {
        this.value = value;
        this.link = null;
    }

    /**
     * Создает новое звено с указанным значением и связью на последующее звено.
     *
     * <p>Используется при вставке звеньев внутрь существующей цепочки или при
     * перестройке текущей последовательности элементов.</p>
     *
     * @param value значение для сохранения в этом звене
     * @param link связь с последующим звеном в цепочке
     * @throws IllegalArgumentException если переданное значение равно null
     */
    ChainElement(T value, ChainElement<T> link) {
        this.value = value;
        this.link = link;
    }

    /**
     * Проверяет, является ли это звено конечным в цепочке.
     *
     * @return true если связь с последующим звеном отсутствует, иначе false
     */
    boolean isFinalElement() {
        return this.link == null;
    }

    /**
     * Устанавливает связь с указанным последующим звеном.
     *
     * @param nextElement последующее звено для установки связи
     */
    void setNext(ChainElement<T> nextElement) {
        this.link = nextElement;
    }

    /**
     * Возвращает строковое представление значения звена.
     *
     * @return строковое представление хранимого значения
     */
    @Override
    public String toString() {
        return value != null ? value.toString() : "null";
    }
}